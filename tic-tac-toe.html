<!DOCTYPE html>
<html>
	<head>
		<title>Tic Tac Toe</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<style>
			.center {
				border-left: 1px solid #555555;
				border-right: 1px solid #555555;
			}
			.middle {
				border-top: 1px solid #555555;
				border-bottom: 1px solid #555555;
			}
			td {
				height: 50px;
				width: 50px;
				text-align: center;
			}
			table {
				border-collapse: collapse;
			}
		</style>
	</head>
	<body>
		<table>
			<tr>
				<td data-row="0" data-column="0"></td>
				<td data-row="0" data-column="1" class="center"></td>
				<td data-row="0" data-column="2"></td>
			</tr>
			<tr>
				<td data-row="1" data-column="0" class="middle"></td>
				<td data-row="1" data-column="1" class="middle center"></td>
				<td data-row="1" data-column="2" class="middle"></td>
			</tr>
			<tr>
				<td data-row="2" data-column="0"></td>
				<td data-row="2" data-column="1" class="center"></td>
				<td data-row="2" data-column="2"></td>
			</tr>
		</table>
		<script>
			var turn = true; // true: X, false: O
			var grid = [["","",""],["","",""],["","",""]];
			
			$(document).ready(function() {
				$("td").click(function() {
			
					var i = Number($(this).data("row"));
					var j = Number($(this).data("column"));
					if (grid[i][j] === "") {
						grid[i][j] = turn ? "X" : "O";
					}
					if (winner()) {
						alert((turn ? "X" : "O") + " won! Congrats!");
						grid = [["","",""],["","",""],["","",""]];
						turn = false;
					}
					if (tie()) {
						alert("Tie!");
						grid = [["","",""],["","",""],["","",""]];
						turn = false;
					}
					turn = !turn;
					$("td").each(function(index, value) {
						$(value).html(grid[$(value).data("row")][$(value).data("column")]);
					});
				});
			});
			function tie() {
				var result = true;
				for (var i = 0; i < 3; i++) {
					for (var j = 0; j < 3; j++) {
						if (grid[i][j] === "") {
							result = false;
						}
					}
				}
				return result;
			}
			function winner() {
				var result = false;
				for (var i = 0; i < 3; i++) {
					result = result || JSON.stringify(grid[i]) === JSON.stringify(["X","X","X"]);
					result = result || JSON.stringify(grid[i]) === JSON.stringify(["O","O","O"]);
			
					result = result || JSON.stringify([grid[0][i], grid[1][i], grid[2][i]]) === JSON.stringify(["X", "X", "X"]);
					result = result || JSON.stringify([grid[0][i], grid[1][i], grid[2][i]]) === JSON.stringify(["O", "O", "O"]);
				}
				result = result || JSON.stringify([grid[0][0], grid[1][1], grid[2][2]]) === JSON.stringify(["X", "X", "X"]);
				result = result || JSON.stringify([grid[0][0], grid[1][1], grid[2][2]]) === JSON.stringify(["O", "O", "O"]);
			
				result = result || JSON.stringify([grid[0][2], grid[1][1], grid[2][0]]) === JSON.stringify(["X", "X", "X"]);
				result = result || JSON.stringify([grid[0][2], grid[1][1], grid[2][0]]) === JSON.stringify(["O", "O", "O"]);
				return result;
			}
		</script>
	</body>
</html>
